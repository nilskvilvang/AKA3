<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Kapittel 4 Univariat analyse | Untitled</title>
<meta name="author" content="Nils Kvilvang">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="Kapittel 4 Univariat analyse | Untitled">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kapittel 4 Univariat analyse | Untitled">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<link href="libs/tabwid-1.0.0/scrool.css" rel="stylesheet">
<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.9/grViz.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="R-pakker brukt i dette kapittelet: pacman::p_load(summarytools, tidyverse) Univariat analyse handler om analyse av en enkelt variabel - dvs. vi kan godt gjøre analysen på flere variabler samtidig,...">
<meta property="og:description" content="R-pakker brukt i dette kapittelet: pacman::p_load(summarytools, tidyverse) Univariat analyse handler om analyse av en enkelt variabel - dvs. vi kan godt gjøre analysen på flere variabler samtidig,...">
<meta name="twitter:description" content="R-pakker brukt i dette kapittelet: pacman::p_load(summarytools, tidyverse) Univariat analyse handler om analyse av en enkelt variabel - dvs. vi kan godt gjøre analysen på flere variabler samtidig,...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Untitled</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduksjon</a></li>
<li><a class="" href="hvorfor-dette-notatet.html"><span class="header-section-number">1</span> Hvorfor dette notatet?</a></li>
<li><a class="" href="grunnleggende-begreper-og-sammenhenger.html"><span class="header-section-number">2</span> Grunnleggende begreper og sammenhenger</a></li>
<li><a class="" href="samvariasjon-og-korrelasjon.html"><span class="header-section-number">3</span> Samvariasjon og korrelasjon</a></li>
<li><a class="active" href="univariat-analyse.html"><span class="header-section-number">4</span> Univariat analyse</a></li>
<li><a class="" href="kjikvadrattest---analyse-av-kategoriske-data.html"><span class="header-section-number">5</span> Kjikvadrattest - Analyse av kategoriske data</a></li>
<li><a class="" href="t-tester.html"><span class="header-section-number">6</span> T-tester</a></li>
<li><a class="" href="variansanalyse---anova-analysis-of-variance.html"><span class="header-section-number">7</span> Variansanalyse - ANOVA (“Analysis of Variance”)</a></li>
<li><a class="" href="variansanalyse---manova-multivariate-analysis-of-variance.html"><span class="header-section-number">8</span> Variansanalyse - MANOVA (“Multivariate Analysis of Variance”)</a></li>
<li><a class="" href="regresjonsanalyse---ols.html"><span class="header-section-number">9</span> Regresjonsanalyse - OLS</a></li>
<li><a class="" href="iv-regresjon.html"><span class="header-section-number">10</span> IV regresjon</a></li>
<li><a class="" href="polynomisk-regresjon.html"><span class="header-section-number">11</span> Polynomisk regresjon</a></li>
<li><a class="" href="logistisk-regresjon.html"><span class="header-section-number">12</span> Logistisk regresjon</a></li>
<li><a class="" href="structural-equation-modelling-sem---strukturelle-regresjonsmodeller.html"><span class="header-section-number">13</span> Structural Equation Modelling (SEM - Strukturelle Regresjonsmodeller)</a></li>
<li><a class="" href="dimension-reduction-factor-analysis-fa-og-principal-component-analysis-pca.html"><span class="header-section-number">14</span> Dimension reduction: Factor Analysis (FA) og Principal Component Analysis (PCA)</a></li>
<li><a class="" href="maskinl%C3%A6ring-machine-learning.html"><span class="header-section-number">15</span> Maskinlæring (Machine Learning)</a></li>
<li><a class="" href="maskinl%C3%A6ring-gjennom-tidymodels.html"><span class="header-section-number">16</span> Maskinlæring gjennom “tidymodels”</a></li>
<li><a class="" href="referanser.html">Referanser</a></li>
<li><a class="" href="vedlegg-a---sentralgrenseteoremet-central-limit-theorem.html">Vedlegg A - Sentralgrenseteoremet (Central Limit Theorem)</a></li>
<li><a class="" href="vedlegg-b---chebyshevs-teorem.html">Vedlegg B - Chebyshevs teorem</a></li>
<li><a class="" href="vedlegg-x---session-info.html">Vedlegg X - Session Info</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/nilskvilvang/AKA3">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="univariat-analyse" class="section level1" number="4">
<h1>
<span class="header-section-number">Kapittel 4</span> Univariat analyse<a class="anchor" aria-label="anchor" href="#univariat-analyse"><i class="fas fa-link"></i></a>
</h1>
<p>R-pakker brukt i dette kapittelet:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">summarytools</span>, <span class="va">tidyverse</span><span class="op">)</span></span></code></pre></div>
<p>Univariat analyse handler om analyse av en enkelt variabel - dvs. vi kan godt gjøre analysen på flere variabler samtidig, men vi ser kun på karakteristika ved den enkelte variabel, ikke variabler i sammenheng eller i forhold til hverandre). I hovedsak gjør vi dette på tre måter:</p>
<ol style="list-style-type: decimal">
<li>Deskriptiv statistikk (“Summary statistics”)</li>
<li>Frekvenstabeller</li>
<li>Diagrammer / plott</li>
</ol>
<div id="deskriptiv-statistikk" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Deskriptiv statistikk<a class="anchor" aria-label="anchor" href="#deskriptiv-statistikk"><i class="fas fa-link"></i></a>
</h2>
<p>Deskriptiv statistikk kan vi gjerne gruppere i to hovedgrupper:</p>
<ol style="list-style-type: decimal">
<li>Tendens (“location measures”)</li>
<li>Spredning (“dispersion measuresd”)</li>
</ol>
<p>Typiske karakteristika vi kan være interessert i å se på er gjennomsnitt, median, maksimums- og minimumsverdier (“range”), kvartiler / interkvartil avstand (“IQR”), varians / standardavvik, manglende verdier (“missing values” / “NAs”), skjevhet og kurtosis.</p>
<p>Vi fram igjen datasettet vi brukte i kapittel 2 der vi hadde genererte høydedata for 100 tilfeldige menn.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span></span>
<span><span class="va">hoyde100</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">179</span>, <span class="fl">16</span><span class="op">)</span></span>
<span><span class="fu">descr</span><span class="op">(</span><span class="va">hoyde100</span><span class="op">)</span></span>
<span><span class="co">#&gt; Descriptive Statistics  </span></span>
<span><span class="co">#&gt; hoyde100  </span></span>
<span><span class="co">#&gt; N: 100  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                     hoyde100</span></span>
<span><span class="co">#&gt; ----------------- ----------</span></span>
<span><span class="co">#&gt;              Mean     177.79</span></span>
<span><span class="co">#&gt;           Std.Dev      16.93</span></span>
<span><span class="co">#&gt;               Min     132.05</span></span>
<span><span class="co">#&gt;                Q1     166.99</span></span>
<span><span class="co">#&gt;            Median     177.84</span></span>
<span><span class="co">#&gt;                Q3     188.10</span></span>
<span><span class="co">#&gt;               Max     220.57</span></span>
<span><span class="co">#&gt;               MAD      15.73</span></span>
<span><span class="co">#&gt;               IQR      20.99</span></span>
<span><span class="co">#&gt;                CV       0.10</span></span>
<span><span class="co">#&gt;          Skewness       0.15</span></span>
<span><span class="co">#&gt;       SE.Skewness       0.24</span></span>
<span><span class="co">#&gt;          Kurtosis      -0.20</span></span>
<span><span class="co">#&gt;           N.Valid     100.00</span></span>
<span><span class="co">#&gt;         Pct.Valid     100.00</span></span></code></pre></div>
<p>Et statistikkprogrgam vil lett gi oss en rekke utregninger som sier noe deskriptivt (beskrivende) om dataene. I resultatet ovenfor ser vi typiske ting som gjennomsnittsverdi, medianverdi, minimums- og maksimumsverdi, kvartiler (mer om det under boksplott), men også litt mer ukjente forhold som skjevhet og kurtosis. Skjevhet var vi en god del inne på når vi snakket om normalfordelingen i kapittel 1. Kurtosis handler om hvor “tunge eller lette haler” en datafordeling har (ofte omtales kurtosis som “hvor spiss fordelignen er”, men det er egentlig unøyaktig).</p>
</div>
<div id="frekvenstabell" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Frekvenstabell<a class="anchor" aria-label="anchor" href="#frekvenstabell"><i class="fas fa-link"></i></a>
</h2>
<p>Det gir ikke særlig mening å lage en frekvenstabell for de genererte høydedataene siden alle verdiene er unike (altså får vi frekvens 1 på alle 100 observasjonene). La oss derfor lage et enkelt eksempel:</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3.5</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">6.5</span>, <span class="fl">7</span>, <span class="fl">7.4</span>, <span class="fl">8</span>, <span class="fl">13</span>, <span class="fl">14.2</span><span class="op">)</span></span>
<span><span class="fu">summarytools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/summarytools/man/freq.html">freq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; Frequencies  </span></span>
<span><span class="co">#&gt; x  </span></span>
<span><span class="co">#&gt; Type: Numeric  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;               Freq   % Valid   % Valid Cum.   % Total   % Total Cum.</span></span>
<span><span class="co">#&gt; ----------- ------ --------- -------------- --------- --------------</span></span>
<span><span class="co">#&gt;           1      2     13.33          13.33     13.33          13.33</span></span>
<span><span class="co">#&gt;           2      1      6.67          20.00      6.67          20.00</span></span>
<span><span class="co">#&gt;         3.5      1      6.67          26.67      6.67          26.67</span></span>
<span><span class="co">#&gt;           4      3     20.00          46.67     20.00          46.67</span></span>
<span><span class="co">#&gt;           5      2     13.33          60.00     13.33          60.00</span></span>
<span><span class="co">#&gt;         6.5      1      6.67          66.67      6.67          66.67</span></span>
<span><span class="co">#&gt;           7      1      6.67          73.33      6.67          73.33</span></span>
<span><span class="co">#&gt;         7.4      1      6.67          80.00      6.67          80.00</span></span>
<span><span class="co">#&gt;           8      1      6.67          86.67      6.67          86.67</span></span>
<span><span class="co">#&gt;          13      1      6.67          93.33      6.67          93.33</span></span>
<span><span class="co">#&gt;        14.2      1      6.67         100.00      6.67         100.00</span></span>
<span><span class="co">#&gt;        &lt;NA&gt;      0                               0.00         100.00</span></span>
<span><span class="co">#&gt;       Total     15    100.00         100.00    100.00         100.00</span></span></code></pre></div>
<p>En frekvenstabell teller enkelt opp hvor mange forekomster vi har av ulike verdier, grupper e.l. Vi kan se at i tabellen over at verdien fire forekommer tre ganger. Et statistikkprogram gir oss også (som regel autmatisk, evt. at vi må be om det) hvor mange prosent det respektive antall forekomster utgjør av totalt antall forekomster (f.eks. utgjør de tre forekomstene av verdien fire 20% av totalt antall forekomster). Videre har vi ofte kumulativ prosent - som er en summering av prosentandelene fra første verdi til siste (summen blir åpenbart alltid 100). For verdien fire ser vi kumulativt 46.67%. Altså utgjør forekomstene av verdiene 1, 2, 3.5 og 4 tilsammen 46.67% av alle forekomster.</p>
</div>
<div id="diagrammer-plott" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Diagrammer / plott<a class="anchor" aria-label="anchor" href="#diagrammer-plott"><i class="fas fa-link"></i></a>
</h2>
<p>Det er en rekke diagrammer / plott vi kan lage som gir oss informasjon om en enkelt variabel.</p>
<div id="stolpediagram-bar-chart" class="section level3" number="4.3.1">
<h3>
<span class="header-section-number">4.3.1</span> Stolpediagram (“bar chart”)<a class="anchor" aria-label="anchor" href="#stolpediagram-bar-chart"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">liksomdata</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Karakter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span> ,<span class="st">"C"</span> ,<span class="st">"D"</span> ,<span class="st">"E"</span>, <span class="st">"F"</span><span class="op">)</span>,  </span>
<span>  Antall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">8</span>, <span class="fl">18</span>, <span class="fl">16</span>, <span class="fl">13</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">stolpe</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">liksomdata</span>, <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Karakter</span>, y<span class="op">=</span><span class="va">Antall</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#0073C2FF"</span>, stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">stolpe</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-4"></span>
<img src="04_files/figure-html/unnamed-chunk-4-1.png" alt="Stolpediagram ensfarget" width="672"><p class="caption">
Figure 4.1: Stolpediagram ensfarget
</p>
</div>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stolpe2</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">liksomdata</span>, <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Karakter</span>, y<span class="op">=</span><span class="va">Antall</span>, fill<span class="op">=</span><span class="va">Karakter</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">stolpe2</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="04_files/figure-html/unnamed-chunk-5-1.png" alt="Stolpediagram flerfarget" width="672"><p class="caption">
Figure 4.2: Stolpediagram flerfarget
</p>
</div>
<p>En alternativ måte å framstille i det samme som i et stolpediagram:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">liksomdata</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Karakter</span>, <span class="va">Antall</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_linerange</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Karakter</span>, ymin <span class="op">=</span> <span class="fl">0</span>, ymax <span class="op">=</span> <span class="va">Antall</span><span class="op">)</span>, </span>
<span>    color <span class="op">=</span> <span class="st">"lightgray"</span>, size <span class="op">=</span> <span class="fl">1.5</span></span>
<span>    <span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">Karakter</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">ggpubr</span><span class="fu">::</span><span class="fu"><a href="https://rpkgs.datanovia.com/ggpubr/reference/set_palette.html">color_palette</a></span><span class="op">(</span><span class="st">"jco"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="04_files/figure-html/unnamed-chunk-6-1.png" alt="Alternativ til stolpediagram" width="672"><p class="caption">
Figure 2.1: Alternativ til stolpediagram
</p>
</div>
</div>
<div id="kakediagram-pie-chart" class="section level3" number="4.3.2">
<h3>
<span class="header-section-number">4.3.2</span> Kakediagram (“pie chart”)<a class="anchor" aria-label="anchor" href="#kakediagram-pie-chart"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">liksomdata</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="va">Antall</span>, fill <span class="op">=</span> <span class="va">Karakter</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_text</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="va">Antall</span><span class="op">)</span>,</span>
<span>            position <span class="op">=</span> <span class="fu">position_stack</span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_polar</span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_brewer</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_void</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-7"></span>
<img src="04_files/figure-html/unnamed-chunk-7-1.png" alt="Kakediagram" width="672"><p class="caption">
Figure 2.2: Kakediagram
</p>
</div>
</div>
<div id="histogram-1" class="section level3" number="4.3.3">
<h3>
<span class="header-section-number">4.3.3</span> Histogram:<a class="anchor" aria-label="anchor" href="#histogram-1"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">35</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">179</span>, <span class="fl">16</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"Mann"</span>, each <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">hoyde</span> <span class="op">&lt;-</span> <span class="fu">bind_cols</span><span class="op">(</span> <span class="va">y</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; New names:</span></span>
<span><span class="co">#&gt; • `` -&gt; `...1`</span></span>
<span><span class="co">#&gt; • `` -&gt; `...2`</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">hoyde</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Kjonn"</span>, <span class="st">"Hoyde"</span><span class="op">)</span></span>
<span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">hoyde</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"lightblue"</span>, bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">ylab</span><span class="op">(</span><span class="st">"Antall"</span><span class="op">)</span></span>
<span><span class="va">h</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-8"></span>
<img src="04_files/figure-html/unnamed-chunk-8-1.png" alt="Histogram med 10 søyler" width="672"><p class="caption">
Figure 2.3: Histogram med 10 søyler
</p>
</div>
<p>Histogrammet viser søyler av kontinuerlige data gruppert etter en gitt bredde på søylene - antall søyler definerer vi selv ut fra hvor stor del av bredden av observasjoner vi “putter inn i” søyla. I histogrammet over har vi delt dataene inn i åtte deler (søylene har alltid lik bredde). Vi kan også dele inn annerledes.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h2</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">hoyde</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"lightblue"</span>, bins <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">ylab</span><span class="op">(</span><span class="st">"Antall"</span><span class="op">)</span></span>
<span><span class="va">h2</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-9"></span>
<img src="04_files/figure-html/unnamed-chunk-9-1.png" alt="Histogram med 4søyler" width="672"><p class="caption">
Figure 2.4: Histogram med 4søyler
</p>
</div>
<p>Vi kan også være interessert i å vise histogram for en variabel - høyde - for to grupper (f.eks. kjønn).</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu">as_tibble</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">172</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">y2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"Kvinne"</span>, each <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">hoyde2</span> <span class="op">&lt;-</span> <span class="fu">bind_cols</span><span class="op">(</span> <span class="va">y2</span>, <span class="va">x2</span><span class="op">)</span></span>
<span><span class="co">#&gt; New names:</span></span>
<span><span class="co">#&gt; • `` -&gt; `...1`</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">hoyde2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Kjonn"</span>, <span class="st">"Hoyde"</span><span class="op">)</span></span>
<span><span class="va">hoydefelles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">hoyde</span>, <span class="va">hoyde2</span><span class="op">)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoydefelles</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_histogram</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">Kjonn</span>, fill <span class="op">=</span> <span class="va">Kjonn</span><span class="op">)</span>,</span>
<span>                         alpha <span class="op">=</span> <span class="fl">0.4</span>, position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"orange"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"orange"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span></span>
<span><span class="co">#&gt; `binwidth`.</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="04_files/figure-html/unnamed-chunk-10-1.png" alt="Histogram for høyde for to grupper" width="672"><p class="caption">
Figure 2.5: Histogram for høyde for to grupper
</p>
</div>
</div>
<div id="frekvenspolygon" class="section level3" number="4.3.4">
<h3>
<span class="header-section-number">4.3.4</span> Frekvenspolygon<a class="anchor" aria-label="anchor" href="#frekvenspolygon"><i class="fas fa-link"></i></a>
</h3>
<p>Dette er svært likt histogram, men bruker linjer i stedet for stolper.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoyde</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_area</span><span class="op">(</span> stat <span class="op">=</span> <span class="st">"bin"</span>, bins <span class="op">=</span> <span class="fl">30</span>,</span>
<span>               color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">ylab</span><span class="op">(</span><span class="st">"Antall"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-11"></span>
<img src="04_files/figure-html/unnamed-chunk-11-1.png" alt="Frekvenspolygon" width="672"><p class="caption">
Figure 4.3: Frekvenspolygon
</p>
</div>
<p>Og for to grupper:</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoydefelles</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_freqpoly</span><span class="op">(</span> <span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">Kjonn</span>, linetype <span class="op">=</span> <span class="va">Kjonn</span><span class="op">)</span>,</span>
<span>                   bins <span class="op">=</span> <span class="fl">30</span>, size <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"orange"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ylab</span><span class="op">(</span><span class="st">"Antall"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-12"></span>
<img src="04_files/figure-html/unnamed-chunk-12-1.png" alt="Frekvenspolygon for to grupper" width="672"><p class="caption">
Figure 2.6: Frekvenspolygon for to grupper
</p>
</div>
</div>
<div id="density" class="section level3" number="4.3.5">
<h3>
<span class="header-section-number">4.3.5</span> “Density”:<a class="anchor" aria-label="anchor" href="#density"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoyde</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_density</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu">geom_vline</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             linetype <span class="op">=</span> <span class="st">"dashed"</span>, size <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>             color <span class="op">=</span> <span class="st">"#FC4E07"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-13"></span>
<img src="04_files/figure-html/unnamed-chunk-13-1.png" alt="Density kurve med gjennomsnittsverdi" width="672"><p class="caption">
Figure 2.7: Density kurve med gjennomsnittsverdi
</p>
</div>
<p>Et densityplott viser distribusjonen til en numerisk variabel. Det er på en måte en “smooth” versjon av histogrammet. Densityplott kan være et alternativ når man skal se på dataene og hvilken distribusjon den har. Det kan være enklere å se om distribusjonen f.eks. er bimodal eller unimodal (en eller to topper). Det kan også være en god visualisering av en variabel med to grupper.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">snitt</span> <span class="op">&lt;-</span> <span class="va">hoydefelles</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">Kjonn</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>grp.mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoydefelles</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Hoyde</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_density</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">Kjonn</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">geom_vline</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">grp.mean</span>, color <span class="op">=</span> <span class="va">Kjonn</span><span class="op">)</span>,</span>
<span>             data <span class="op">=</span> <span class="va">snitt</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_color_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"steelblue"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lightblue"</span>, <span class="st">"orange"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-14"></span>
<img src="04_files/figure-html/unnamed-chunk-14-1.png" alt="Density kurve med gjennomsnittsverdi for to grupper" width="672"><p class="caption">
Figure 2.8: Density kurve med gjennomsnittsverdi for to grupper
</p>
</div>
</div>
<div id="boksplott" class="section level3" number="4.3.6">
<h3>
<span class="header-section-number">4.3.6</span> Boksplott<a class="anchor" aria-label="anchor" href="#boksplott"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">hoydefelles</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Kjonn</span>, y <span class="op">=</span> <span class="va">Hoyde</span>, fill <span class="op">=</span> <span class="va">Kjonn</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:unnamed-chunk-15"></span>
<img src="04_files/figure-html/unnamed-chunk-15-1.png" alt="Boxplott" width="672"><p class="caption">
Figure 2.9: Boxplott
</p>
</div>
<p>Boxplott ble ganske grundig gjennomgått i kapittel <a href="grunnleggende-begreper-og-sammenhenger.html#boxplott">2.7.1.4</a>.</p>
<p>Vi kommer tilbake flere steder til mer utførlig tolkning av ulike diagrammer i ulike kapitler der de brukes i en kontekst.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="samvariasjon-og-korrelasjon.html"><span class="header-section-number">3</span> Samvariasjon og korrelasjon</a></div>
<div class="next"><a href="kjikvadrattest---analyse-av-kategoriske-data.html"><span class="header-section-number">5</span> Kjikvadrattest - Analyse av kategoriske data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#univariat-analyse"><span class="header-section-number">4</span> Univariat analyse</a></li>
<li><a class="nav-link" href="#deskriptiv-statistikk"><span class="header-section-number">4.1</span> Deskriptiv statistikk</a></li>
<li><a class="nav-link" href="#frekvenstabell"><span class="header-section-number">4.2</span> Frekvenstabell</a></li>
<li>
<a class="nav-link" href="#diagrammer-plott"><span class="header-section-number">4.3</span> Diagrammer / plott</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#stolpediagram-bar-chart"><span class="header-section-number">4.3.1</span> Stolpediagram (“bar chart”)</a></li>
<li><a class="nav-link" href="#kakediagram-pie-chart"><span class="header-section-number">4.3.2</span> Kakediagram (“pie chart”)</a></li>
<li><a class="nav-link" href="#histogram-1"><span class="header-section-number">4.3.3</span> Histogram:</a></li>
<li><a class="nav-link" href="#frekvenspolygon"><span class="header-section-number">4.3.4</span> Frekvenspolygon</a></li>
<li><a class="nav-link" href="#density"><span class="header-section-number">4.3.5</span> “Density”:</a></li>
<li><a class="nav-link" href="#boksplott"><span class="header-section-number">4.3.6</span> Boksplott</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/nilskvilvang/AKA3/blob/master/04.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/nilskvilvang/AKA3/edit/master/04.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Untitled</strong>" was written by Nils Kvilvang. It was last built on 2022-07-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
